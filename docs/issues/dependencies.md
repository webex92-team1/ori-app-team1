# 📊 Issue依存関係マップ

## 🎯 依存関係の見方

- ⬇️ このissueが完了しないと次に進めない
- ✅ このissueが完了すれば着手可能になる
- 🔵 並列作業可能（競合しない）

---

## 📋 Issue依存関係一覧

### Issue #1: Firebaseクライアント初期化
**依存**: なし（最初に着手可能）  
**このissue完了後に着手できるようになるもの**:
- ✅ Issue #2（AuthProvider）
- ✅ Issue #3（Firestoreヘルパー）

---

### Issue #2: AuthProviderとルートガード
**依存**: 
- ⬇️ Issue #1（Firebase初期化が必要）

**このissue完了後に着手できるようになるもの**:
- ✅ Issue #4（サインアップページ）
- ✅ Issue #5（ログインページ）
- ✅ Issue #7（食材入力ページ）
- ✅ Issue #8（レシピ一覧ページ）
- ✅ Issue #9（レシピ詳細ページ）
- ✅ Issue #10（マイページ）

---

### Issue #3: Firestoreデータアクセサ群
**依存**: 
- ⬇️ Issue #1（Firebase初期化が必要）

**このissue完了後に着手できるようになるもの**:
- ✅ Issue #4（サインアップページ）
- ✅ Issue #9（レシピ詳細ページ）
- ✅ Issue #10（マイページ）
- ✅ Issue #11（Firestoreルール）

---

### Issue #4: サインアップページ
**依存**: 
- ⬇️ Issue #2（AuthProviderが必要）
- ⬇️ Issue #3（Firestoreヘルパーが必要）

**このissue完了後に着手できるようになるもの**:
- なし（他のissueに影響しない独立機能）

---

### Issue #5: ログインページ
**依存**: 
- ⬇️ Issue #2（AuthProviderが必要）

**このissue完了後に着手できるようになるもの**:
- なし（他のissueに影響しない独立機能）

---

### Issue #6: RakutenレシピAPIクライアント
**依存**: なし（並列作業可能）

**このissue完了後に着手できるようになるもの**:
- ✅ Issue #8（レシピ一覧ページ）
- ✅ Issue #9（レシピ詳細ページ）

---

### Issue #7: 食材入力ページ
**依存**: 
- ⬇️ Issue #2（AuthProviderが必要）

**このissue完了後に着手できるようになるもの**:
- ✅ Issue #8（レシピ一覧ページ）

---

### Issue #8: レシピ一覧ページ
**依存**: 
- ⬇️ Issue #2（AuthProviderが必要）
- ⬇️ Issue #6（RakutenレシピAPIが必要）
- ⬇️ Issue #7（食材入力ページが必要）

**このissue完了後に着手できるようになるもの**:
- ✅ Issue #9（レシピ詳細ページ）

---

### Issue #9: レシピ詳細ページ
**依存**: 
- ⬇️ Issue #2（AuthProviderが必要）
- ⬇️ Issue #3（Firestoreヘルパーが必要）
- ⬇️ Issue #6（RakutenレシピAPIが必要）
- ⬇️ Issue #8（レシピ一覧ページが必要）

**このissue完了後に着手できるようになるもの**:
- ✅ Issue #10（マイページ）

---

### Issue #10: マイページ
**依存**: 
- ⬇️ Issue #2（AuthProviderが必要）
- ⬇️ Issue #3（Firestoreヘルパーが必要）
- ⬇️ Issue #9（レシピ詳細ページが必要）

**このissue完了後に着手できるようになるもの**:
- なし（最終機能）

---

### Issue #11: Firestoreセキュリティルール
**依存**: 
- ⬇️ Issue #3（Firestoreヘルパーが必要）

**このissue完了後に着手できるようになるもの**:
- なし（他のissueに影響しない独立機能）

---

## 🎨 依存関係図（フロー）

```
開始
 │
 ├─ #1: Firebase初期化 ★最優先
 │   │
 │   ├─→ #2: AuthProvider
 │   │    │
 │   │    ├─→ #4: サインアップ（#3も必要）
 │   │    ├─→ #5: ログイン
 │   │    ├─→ #7: 食材入力
 │   │    │    │
 │   │    │    └─→ #8: レシピ一覧（#6も必要）
 │   │    │         │
 │   │    │         └─→ #9: レシピ詳細（#3も必要）
 │   │    │              │
 │   │    └──────────────→ #10: マイページ（#9と#3も必要）
 │   │
 │   └─→ #3: Firestoreヘルパー
 │        │
 │        ├─→ #4: サインアップ（#2も必要）
 │        ├─→ #9: レシピ詳細（#2, #6, #8も必要）
 │        ├─→ #10: マイページ（#2, #9も必要）
 │        └─→ #11: Firestoreルール
 │
 └─ #6: RakutenレシピAPI ★並列作業可能
      │
      ├─→ #8: レシピ一覧（#2, #7も必要）
      └─→ #9: レシピ詳細（#2, #3, #8も必要）
```

---

## 👥 3人チームでの作業割り振り例

### 🔷 Week 1: 基盤構築フェーズ

#### 👤 担当A（認証担当）
1. **Day 1**: Issue #1（Firebase初期化）★全員で確認
2. **Day 2-3**: Issue #2（AuthProvider）

#### 👤 担当B（API担当）
1. **Day 1**: Issue #1完了を待つ or ドキュメント確認
2. **Day 2-3**: Issue #6（RakutenレシピAPI）★並列作業

#### 👤 担当C（データ担当）
1. **Day 1**: Issue #1完了を待つ
2. **Day 2-3**: Issue #3（Firestoreヘルパー）★並列作業

---

### 🔷 Week 2: 認証・基本UIフェーズ

#### 👤 担当A
1. **Day 1-2**: Issue #4（サインアップ）
   - 前提: #2, #3完了
2. **Day 3**: Issue #5（ログイン）
   - 前提: #2完了

#### 👤 担当B
1. **Day 1-2**: Issue #7（食材入力）
   - 前提: #2完了
2. **Day 3**: Issue #11（Firestoreルール）
   - 前提: #3完了

#### 👤 担当C
1. **Day 1-3**: Issue #8（レシピ一覧）★重要
   - 前提: #2, #6, #7完了
   - ※Day 2まで待機して#7完了後に着手

---

### 🔷 Week 3: コア機能フェーズ

#### 👤 担当A
1. **Day 1-2**: Issue #9（レシピ詳細）★重要
   - 前提: #2, #3, #6, #8完了

#### 👤 担当B
1. **Day 1-2**: Issue #10（マイページ）
   - 前提: #2, #3, #9完了
   - ※#9完了を待って着手

#### 👤 担当C
1. **統合テスト・バグ修正・ドキュメント整備**

---

## 🚀 クリティカルパス（最短ルート）

MVP完成までの最短経路:

```
#1 → #2 → #7 → #6 → #8 → #9 → #10
     ↓
     #3
```

**所要日数（理論値）**: 
- #1(0.5) + #2(0.5) + #3(0.5) + #7(0.5) + #6(0.5) + #8(1.0) + #9(1.0) + #10(1.0) = **5.5日**

**実質所要日数（並列作業考慮）**: 約2〜3週間

---

## ⚠️ ボトルネックになりやすいissue

1. **Issue #1（Firebase初期化）** 
   - すべての基盤となるため最優先
   - チーム全員で確認すべき

2. **Issue #2（AuthProvider）**
   - 多くのissueが依存している
   - 早めに完了させる必要がある

3. **Issue #8（レシピ一覧）**
   - #9への依存元となる
   - 1.0日かかる重要機能

---

## 💡 作業のコツ

### ✅ 並列作業できる組み合わせ

**Week 1（#1完了後）**:
- 🔵 Issue #2（担当A）
- 🔵 Issue #3（担当C）
- 🔵 Issue #6（担当B）
→ 3つ同時進行可能（ファイルが被らない）

**Week 2前半（#2, #3完了後）**:
- 🔵 Issue #4（担当A）
- 🔵 Issue #7（担当B）
- 🔵 Issue #11（担当C）
→ 3つ同時進行可能

**Week 2後半〜Week 3**:
- Issue #8 → Issue #9 → Issue #10は順次実施

### ⚠️ 競合しやすい組み合わせ（避ける）

- ❌ Issue #4 と Issue #5（両方とも認証関連、混乱しやすい）
- ❌ Issue #8 と Issue #9（レシピ表示ロジックで競合の可能性）

---

## 📝 進捗管理のポイント

1. **毎日のスタンドアップ**で依存関係を確認
2. **Issue #1, #2**は最優先で全員でレビュー
3. ブロッカーになっているissueがあればチームで優先対応
4. PRは小さく早くマージして、次の人がブロックされないようにする

